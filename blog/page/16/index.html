
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <script type="text/javascript" src="//use.typekit.net/wpe2bbi.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  <meta charset="utf-8">
  <title>jlaine.net</title>
  <meta name="author" content="Jarkko Laine">

  
  <meta name="description" content="This is too funny: Martin Fowler just pointed to a PDF article about Agile Development written by Dave Thomas. The article has a picture of the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jarkko.github.com/jlaine/blog/page/16/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/feed/atom.xml" rel="alternate" title="jlaine.net" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-84654-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">jlaine.net</a></h1>
  
</hgroup>

</header>
  <!--<nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/feed/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jarkko.github.com/jlaine" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>-->
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/14/dave-and-dave/">Dave and Dave</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-14T00:00:00+03:00" pubdate data-updated="true">Jun 14<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is too funny: <a href="http://martinfowler.com/">Martin Fowler</a> just pointed to a <span class="caps">PDF</span> <a href="http://martinfowler.com/ieeeSoftware/accChange.pdf">article</a> about <a href="http://en.wikipedia.org/wiki/Agile_software_development">Agile Development</a> written by Dave Thomas. The article has a picture of the writer (Thomas) but to me it looked something totally else than the <a href="http://www.pragmaticprogrammer.com/contact.html">picture</a> of <a href="http://blogs.pragprog.com/cgi-bin/pragdave.cgi">Dave Thomas</a> I&#8217;ve had in my head.</p>
<p>I wondered this in #rubyonrails irc channel and some bright lad noticed that the <a href="http://www.davethomas.net/">Dave Thomas</a> who&#8217;d written the article was not the same Dave Thomas we knew at all. In fact he is an Australian Computer Science professor.</p>
<p>This is a funny coincidence, even more because PragDave is one of the original signers of the <a href="http://agilemanifesto.org/">Agile Manifesto</a> and the other Dave is the founding director of <a href="http://agilealliance.com/home">AgileAlliance.com</a>. Or at least that&#8217;s what the <a href="http://martinfowler.com/ieeeSoftware/accChange.pdf">article</a> says. Hope they haven&#8217;t mixed up the two, I certainly would.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/10/reboot-woes/">Reboot Woes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-10T00:00:00+03:00" pubdate data-updated="true">Jun 10<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Wednesday</h2>
<p>Had a nice (and expensive) dinner in Cafe Ketchup in Copenhagen Tivoli with lots of Danish bloggers and <a href="http://radio.weblogs.com/0001011/">Scoble</a>. The night turned adventurous when I tried to get out of the already closed Tivoli. After banging the gates for a while with some locals a nice bartender let us out through the emergency exit of his bar. Now that&#8217;s a good idea for maximizing your daily income: close the area before the restaurants inside it shut down.</p>
<h2>Thursday</h2>
<p>Building of Basecamp day. The workshop turned out to be as great as rumoured. I can&#8217;t say I heard that much completely new stuff (ok, I&#8217;ve probably followed <a href="http://37signals.com">37signals</a>, <a href="http://www.basecamphq.com">Basecamp</a> and <a href="http://rubyonrails.com">Rails</a> a <em>bit</em> closer than average) but hearing all that in a single workshop, in such a coherent manner was probably worth the juicy price.</p>
<p>In the evening we joined the pre-reboot party at someone&#8217;s own (!) pub. Saw for the first time a lot of online friends and enjoyed the generous free beverages. The evening ended with a dinner in supposedly the oldest restaurant in Copenhagen, Lille Apoteket. Get one of the steaks if you ever stumble upon the place, at least the pepper steak was excellent.</p>
<h2>Friday</h2>
<h3>Keynotes</h3>
<p><a href="http://www.searls.com/">Doc Searls</a> was really great, you should definitely see him speaking some time. <a href="http://radio.weblogs.com/0001011/">Scoble</a> was, well, a bit unorganized compared to Searls and I didn&#8217;t get much more out of his speech than that I should blog. OK, I will.</p>
<h3>Calacanis</h3>
<p>I have to admit, I wasn&#8217;t that familiar with <a href="http://calacanis.weblogsinc.com/">Jason Calacanis</a> before, but he turned out to be a great speaker, too, articulating the power of blogging a <strong>lot</strong> better than Scbole. Here&#8217;s his own <a href="http://calacanis.weblogsinc.com/entry/1234000243046277/">post</a> about the talk.</p>
<p>After Calacanis, David Axmark of <a href="http://www.mysql.com">MySQL</a> fame talked about how to make money with Open Source software. The topic was really up my alley, maybe a bit too much, since I didn&#8217;t find anything really new from his speech. Maybe his quite monotonic presentation had something to do with that, too.</p>
<p>The lunch was predated by a talk by <a href="http://www.ludicorp.com/team_member.php?id=7">Ben Cerveny</a>, an interface designer behind e.g. <a href="http://www.flickr.com/">Flickr</a> and Quake. The presentation on Game theory was a disappointment for me as I had waited quite a bit more. It all just went flying high past me, don&#8217;t really know why. Lars offers one <a href="http://www.pinds.com/blog/one-entry?entry%5fid=39969">explanation</a> with comments from Ben.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/10/maximizer/">Maximizer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-10T00:00:00+03:00" pubdate data-updated="true">Jun 10<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&#8217;s always an illuminating event to find a name for a phenomenon you&#8217;ve known existed but didn&#8217;t really find a way to communicate it to others. One famous example of it is <a href="http://en.wikipedia.org/wiki/AJAX" title="Asynchronous JavaScript and XML"><span class="caps">AJAX</span></a>. It&#8217;s been around for years, got more exposure upon <a href="http://maps.google.com/">Google Maps</a>, but didn&#8217;t really hit the mainstream until <a href="http://www.jjg.net/">Jesse James Garrett</a> <a href="http://www.adaptivepath.com/publications/essays/archives/000385.php">labeled</a> the technique <span class="caps">AJAX</span> and wrote an article about it.</p>
<p>I have an (annoying, some people say) habit to not only strive for but also buy the best. I don&#8217;t really understand people who when seeing me carrying a Powerbook come and wonder: &#8220;isn&#8217;t it terribly expensive?&#8221; Well, yeah, if you compare it to a €799 wholesale store laptop. But come on, it&#8217;s my workplace, a hobby and a communication vehicle in one. Why should I settle for anything short of the best?</p>
<p><a href="http://www.pinds.com/blog/">Lars Pind</a>, my kind host here in Copenhagen, recently posted an <a href="http://www.pinds.com/blog/one-entry?entry%5fid=39915">entry</a> that really resonated with me:</p>
<blockquote>
<p>When you&#8217;re a <a href="http://www.baylor.edu/stren€dex.php?id=25460#%20q26">maximizer</a>, second best is not good enough. Good enough isn&#8217;t good enough.<br />
It&#8217;s not a materialistic thing at all. And it&#8217;s not snobbish. It&#8217;s a question of aesthetics and value. Why waste this precious life surrounding us with anything less? It&#8217;s greatly motivating and uplifting to surround yourself with the best there is, and help make it even better.</p>
</blockquote>
<p>That&#8217;s me. A <a href="http://www.baylor.edu/strengths/index.php?id=25460#%20q26">maximizer</a>. It&#8217;s heartening to find out I&#8217;m not that freaky after all.</p>
<blockquote>
<p>Me, I find that same kind of satisfaction in a really well thought out business model, in well performed music, in a slick software user interface, in a superbly written article about Ketchup in the New Yorker, in a perfect piece of Parmigiano, a well-executed business move, in an outstanding show by Eddie Izzard, in a beautiful piece of clothing, in a uber-functional perambulator, or in the Californian coast line (yeah, this isn&#8217;t man-made like the others, but whoever did it did a pretty impressive job. Kudos!)</p>
</blockquote>
<p>Amen. Thank you, Lars, for (among many other things) helping me to take another step towards finding out who I really am.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/10/holger-dansk/">Holger Dansk</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-10T00:00:00+03:00" pubdate data-updated="true">Jun 10<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When walking back to Lars&#8217; place Thursday evening, I spotted Holger Danskes vej, which reminded me of, well, Holger Dansk, but more importantly, <a href="http://www.amazon.com/exec/obidos/tg/detail/-/0932633439/">Peopleware</a>. Peopleware is an amazing book about making software projects work. The meat of the book is that most projects don&#8217;t fail because of technological reasons but sociological: unhappy people. Joel Spolsky hits the nail pretty well by calling Peopleware an &#8220;anti-Dilbert manifesto&#8221;.</p>
<p>I know. I&#8217;ve written about Peopleware before. But hey, I&#8217;ve read the book many times and still find it as eye-opening as ever. So if you&#8217;ve so far been able to find excuses for avoiding the purchase, give up. You won&#8217;t regret it.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/08/blogger-dinner-tonight-in-copenhagen/">Blogger Dinner Tonight in Copenhagen</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-08T00:00:00+03:00" pubdate data-updated="true">Jun 8<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you&#8217;re already in Copenhagen for <a href="http://37signals.com/workshop/">Building of Basecamp</a> or <a href="http://reboot.dk">reboot7</a>, be sure not to miss the <a href="http://umbraco.org/frontpage/weblogs/hartvig/bloggerdinner.aspx">Blogger dinner</a> tonight at Cafe Ketchup in Tivoli. 8 o&#8217;clock sharp, followed by some fireworks.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/06/flash-in-registration-mdash-not-at-all-great/">Flash in Registration &mdash; Not at All Great</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-06T00:00:00+03:00" pubdate data-updated="true">Jun 6<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I could write a whole entry complaining about the (nonexis€ac support of the two Finnish [sic!] makers of heart rate monitors and sports wrist computers, <a href="http://www.polar.fi">Polar</a> and <a href="http://www.suunto.com">Suunto</a>. I&#8217;ll save that for later, however.</p>
<p>I felt a sense of hope when I found <a href="http://www.polarrunningcoach.com">Polar Running Coach</a>, a web-based software for maintaining the data collected by a Polar monitor. Maybe &#8212; just maybe &#8212; they would have been able to create an applet that is able to command the <span class="caps">USB</span> infrared port used to get the data out of my <a href="http://www.polar.fi/polar/channels/eng/segments/products/S710i.html">Polar S710</a>. Unfortunately, I never got far enough to find out.</p>
<p>Someone at Polar seems to have thought it&#8217;d be neat to use Macromedia Flash for the registration process of the Running Coach. It&#8217;s not. It&#8217;s stupid as hell. It totally highlights the biggest usability and accessibility problems in Flash.</p>
<p>&#8220;But hey, 95% percent have Flash player, how could we possibly go wrong with? Besides, with it we can build as great-looking drop-down widgets as we want to. How cool is that?&#8221;</p>
<p>Here&#8217;s how my registration ended:</p>
<p><a href="http://www.flickr.com/photo_zoom.gne?id=17762636&amp;size=o"><img src="http://photos13.flickr.com/17763350_79e7fc7c0c.jpg" alt="" /></a></p>
<p>Now how cool is that? Especially after spending about ten minutes filling in information about myself. Note that there are no links I could use to back up to the previous step. And as the wizard is made in Flash, I can&#8217;t use my beloved back button because it will throw me in vaults out of the whole registration process. Complete bummer.</p>
<p>Oh, but we still have the cool drop-downs, don&#8217;t we? Using the standard html form widgets I can type &#8220;f&#8221;, &#8220;i&#8221; and &#8220;n&#8221; after I click on a country drop-down menu and I can be pretty sure I have Finland selected. Here, I end up to Namibia (via Falkland Islands and Iceland). You know, sometimes reinventing the wheel just results in an inferior wheel.</p>
<p>It goes without saying that I don&#8217;t really feel like trying again, despite the pretty please. However, the outcome is that I have a €350 heart rate monitor but am unable to download and analyze the data collected with it. The Mac OS Classic version of the old software (that I&#8217;ve never been able to launch on OS X) doesn&#8217;t really cut it.. C&#8217;mon Polar, you&#8217;ve always been a forerunner. Please start taking us other pioneers into account, too.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/04/railsday/">Railsday</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-04T00:00:00+03:00" pubdate data-updated="true">Jun 4<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So here it is, the first ever <a href="http://www.railsday.com/">Railsday</a> 24h coding contest, starting tomorrow at 8AM Finnish time. Unfortunately I won&#8217;t be participating since I will be fighting for Finnish championship in sprint orienteering at the same time. Luckily the organisers have already announced that there will be rerun so maybe I will be able to cut my teeth some day, too.</p>
<p>On other news, I will fly down to Copenhagen next Wednesday. What a three days it will be. I&#8217;ll first take part in the first ever <a href="http://37signals.com/workshop/">Building of Basecamp workshop</a> in Europe. After that it&#8217;s time for <a href="http://reboot.dk">Reboot7</a>,  a &#8220;<em>meetup for the practical visionaries who are building tomorrow one little step at a time</em>&#8221;. Besides making new contacts I will also meet some old <a href="http://openacs.org">OpenACS</a> friends like <a href="http://pinds.com">Lars Pind</a> and <a href="http://unicast.org/">Guan Yang</a> for whom I have a great respect. Can&#8217;t wait to get on the plane :-)</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/05/09/keeping-your-lighttpd-up-on-textdrive-part-ii/">Keeping Your Lighttpd Up on TextDrive, Part II</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-05-09T00:00:00+03:00" pubdate data-updated="true">May 9<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A few weeks ago I wrote about starting your lighttpd process automatically on server reboot. I promised then that I&#8217;d come back with a solution for keeping the process up even if it dies. Well, I&#8217;m about as late as it gets, but here I am anyway, with a hopefully helpful bit of advice.</p>
<h3>Meet daedalus.rb</h3>
<p>Daedalus is a pure-ruby script for monitoring processes and restarting them if needed. It&#8217;s part of FreeBSD <a href="http://www.freebsd.org/es/ports/sysutils.html">sysutils</a> but to be honest it&#8217;s really hard to find these days. Fortunately Jason Hoffman of TextDrive has graciously put up a <a href="http://svn.textdrive.com/repos/scripts/daedalus-1.2.tar.bz2">copy</a> on their Subversion server so your best bet is to just go and grab it from there. Then just unpack the archive in your home directory.</p>
<pre><code>
~# wget http://svn.textdrive.com/repos/scripts/daedalus-1.2.tar.bz2
~# tar jxvf daedalus-1.2.tar.bz2
~# cd daedalus
</code>
</pre>
<p>Now you&#8217;ll have a subdir called <em>daedalus</em> in your home directory. If you look around, you&#8217;ll find a few interesting files in there. <code>daedalus.rb</code> is the actual ruby script that does the monitoring. To save some hassle later on, open the script and change the locations of log and pid files to something residing under your home folder (around line 362):</p>
<pre><code>
$options['logfile'] = '/home/[YOU]/var/log/daedalus.log'
$options['pidfile'] = '/home/[YOU]/var/run/daedalus.pid'
</code></pre>
<p>Be sure that those folders exist, too ;-)</p>
<p>After this, you&#8217;re ready to start configuring your daedalus. In <code>examples</code> you have a file called <code>daedalus.conf</code> which you can use as a template for your own configuration. I created another subfolder <code>config</code> under daedalus and put my config files in there. Open up the config file in the editor of your choice:</p>
<pre><code>
~/daedalus# mv examples config
~/daedalus# emacs config/daedalus.conf
</code></pre>
<p>Inside the config file you find a few configuration examples separated by empty lines. You can comment them all out since we&#8217;re not going to need them. Instead copy this to the beginning of the file:</p>
<pre><code>
name: lighttpd
checkcommand: /bin/ps axww
checkregex: /lighttpd/
onfailcommand: /usr/local/sbin/lighttpd -f /usr/home/[YOU]/sites/rails/config/lighttpd.conf
checkinterval: 30
aftercommandwait: 15
</code></pre>
<p>Here&#8217;s what the above means:</p>
<ul>
	<li><em>name</em> is just a name for the configuration.</li>
	<li><em>checkcommand</em> is the command daedalus executes in order to find out if your target is working or not. In local monitoring it&#8217;s most often &#8220;/bin/ps axww&#8221;. Be sure to include the two w&#8217;s in there, you&#8217;ll be sorry one day if you don&#8217;t<sup class="footnote" id="fnr1"><a href="#fn1">1</a></sup>.</li>
	<li><em>checkregex</em>: this is the regular expression daedalus will try to find from the output of <em>checkcommand</em>. So <code>/lighttpd/</code> means that we&#8217;re looking for&#8230;er&#8230; lighttpd. Brilliant! If you&#8217;re not yet familiar with regular expressions, here&#8217;s a <a href="http://www.regular-expressions.info/">resource</a> with a <a href="http://www.regular-expressions.info/">tutorial</a> that might help you.</li>
	<li><em>onfailcommand</em>: if the given expression is not found, daedalus will execute this command. In our case this will be the command you&#8217;re starting lighttpd with in the first place.</li>
	<li><em>checkinterval</em>: this is the polling interval in seconds. So 300 would mean that daedalus checks for this particular process every five minutes.</li>
	<li><em>aftercommandwait</em>: how long (in seconds) daedalus will wait after a failed check and relaunch. If you know that your process takes a while to launch, you might want to shoot this up a bit.</li>
</ul>
<p>Modify the config file to your needs and that&#8217;s it! You are ready to launch daedalus for the first time:</p>
<pre><code>
~# /usr/local/bin/ruby /home/[YOU]/daedalus/daedalus.rb -c /home/[YOU]/daedalus/config/daedalus.conf
</code></pre>
<p>You can now take a peek at <code>home/[YOU]/log/daedalus.log</code> with <code>tail -f</code> and see what it&#8217;s doing (if anything). Try to kill the process you&#8217;re monitoring and check that daedalus is able to restart it. After that make sure that your daedalus daemon is started on every bootup, otherwise it won&#8217;t help you very long (<a href="http://jlaine.net/blog/48/running-your-own-lighttpd-on-textdrive-and-keeping-it-alive-too-part-i">part I</a> of this tutorial will tell you how to do that).</p>
<h3>But what if it just freezes?</h3>
<p>There can (and will, sooner or later) be situations when your web server just hangs. It seems to be running so daedalus won&#8217;t notice anything but it doesn&#8217;t serve the pages it should either. Now we&#8217;ll get real pragmatic and see how daedalus can help us to solve even this problem.</p>
<h4>Create an uptime test action</h4>
<p><em>(This advice is for Rails but you can easily emulate it in any environment.)</em></p>
<p>Create an action in a suitable controller that will somehow test that the db connection works and then return &#8220;success&#8221;. I e.g. have an action <em>uptime</em> in my PageController:</p>
<pre><code>
def uptime
      render_text "success" if @pages = Page.find_all
end
</code></pre>
<p>After you have something along those lines working in your web service, add another configuration to your daedalus.conf file:</p>
<pre><code>
name: lighttpd-external
checkcommand: /usr/local/bin/curl http://www.yourdomain.com/page/uptime
checkregex: /^success$/
onfailcommand: killall lighttpd; /usr/local/sbin/lighttpd -f /path/to/your/rails-app/config/lighttpd.conf
checkinterval: 300
aftercommandwait: 30
</code></pre>
<p>Configure it according to your needs and restart the daedalus daemon. After that you should be fairly safe with lighttpd.</p>
<h3>Getting really paranoid</h3>
<p>All Black Sabbath fans can take this approach one step further. Start another daedalus daemon (with another config file) that monitors the first one and starts it up again if needed. Then add another configuration to the first instance and voilÃ¡, you have a redundant array of daedalus processes monitoring not only your web services but each other, too. Implementing this will be left as an exercise for the reader.</p>
<p>That&#8217;s about it. If you have followed through <a href="http://jlaine.net/blog/48/running-your-own-lighttpd-on-textdrive-and-keeping-it-alive-too-part-i">part I</a> and this second take, your lighttpd should survive quite a lot. If you have recommendations for making this approach better, please leave a comment.</p>
<p>Thanks to Jason Hoffman and <a href="http://david.goodlad.ca/">Dave Goodlad</a> for help in setting daedalus.rb up initially.</p>
<p class="footnote" id="fn1"><a href="#fnr1"><sup>1</sup></a> ps ax will only print certain amount of letters to every line. If your command is very long (like lighttpd command often is), ps ax might cut the line which can cause the following regexp check to fail. I spent quite a bit of time tracking this down. The two w&#8217;s will cause ps to output even very long lines so using them is a good precaution for later headache.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/05/07/google-web-accelerator-considered-harmful/">Google Web Accelerator Considered Harmful</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-05-07T00:00:00+03:00" pubdate data-updated="true">May 7<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There&#8217;s risen a <a href="http://37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fast_an_alert_for_web_app_designers.php">helluva</a> <a href="http://groups-beta.google.com/group/Google-Web-Accelerator">discussion</a> about Google&#8217;s new service, Google Web Accelerator. The main point of the discussion is that <span class="caps">GWA</span> preloads all the links on a web page (even a password-protected one), possibly deleting items in a web app or otherwise wreaking havoc.</p>
<h3>What is Google Web Accelerator?</h3>
<p><span class="caps">GWA</span> is a service that preloads all the links on a web page a user requests (note that this is not what their <a href="http://webaccelerator.google.com/webmasterhelp.html">Webmaster Help</a> indicates or what many people <a href="http://37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fast_an_alert_for_web_app_designers.php#comments">claim</a>). This will theoretically (and also in practice, in many cases) make surfing a lot leaner for the user because a page behind a link is already preloaded and she will get it in front of her face in an instant when she clicks the link.</p>
<h3>Clouds in paradise</h3>
<p>The problem with <span class="caps">GWA</span> is that it follows the user everywhere, even to password-protected admin sections of web apps that have traditionally been safe harbour from e.g. web crawlers clicking links they shouldn&#8217;t. It seems that only links <span class="caps">GWA</span> will not prefetch are <span class="caps">SSL</span>-encoded (i.e. https://) pages. Unfortunately most of today&#8217;s web applications can&#8217;t use <span class="caps">SSL</span> because of added certificate and hardware costs.</p>
<p>When the user then loads a <span class="caps">CMS</span> admin page with a delete link for each article, <span class="caps">GWA</span> happily follows each link leaving you nothing but an empty system. Not exactly what you expected a &#8220;web accelerator&#8221; to accelerate.</p>
<h3>So who&#8217;s to blame</h3>
<p>It has been a known (but often forgotten/ignored) fact that <span class="caps">GET</span> method (i.e. normal links)  shouldn&#8217;t be used to change a state of a web app. However, as Simon Willison quotes in a <a href="http://simon.incutio.com/archive/2005/05/06/bad">blog entry</a>, &#8220;[<span class="caps">SHOULD</span> <span class="caps">NOT</span>] mean[s] that there may exist valid reasons in particular circumstances when the particular behavior is acceptable or even useful&#8221;. The fact that a link has been on a password-protected admin page has widely been considered as one of those &#8220;particular circumstances&#8221;.</p>
<p>It&#8217;d be easy to run around bashing the stupid developers but I doubt many of us is really pure enough to throw the first stone (even if they think so). Even if it&#8217;s been stupid and relentless to use links to perform critical actions, it&#8217;s just the fact of life. No matter how much malicious pleasure the current situation might give certain people, it just doesn&#8217;t help anyone very much to put all the blame on the application developers. It&#8217;s a total pipedream that all the developers in the world would wake up overnight and go fix their &#8220;broken&#8221; apps. And the one who suffers the most is always the end user who might lose some invaluable content in the process.</p>
<h3>Lessons learned</h3>
<p>This has been a good reminder for us that we should take the security considerations seriously even if we don&#8217;t store mission-critical data in our apps. Simon&#8217;s <a href="http://simon.incutio.com/archive/2005/05/06/bad">post</a> reminds that even if using <span class="caps">POST</span> forms for actions like deleting items might save us from Web Accelerator it doesn&#8217;t protect us from <a href="http://www.squarefree.com/securitytips/web-developers.html#CSRF">cross-site request forgery attacks</a>. They are really not a part of this post but it&#8217;s a good example of how we can learn more from these issues than what the first impression might suggest.</p>
<p>But as web developers have a lot to learn from this, so does Google. It doesn&#8217;t operate in a vacuum. It doesn&#8217;t operate in a perfect world. It doesn&#8217;t operate in a web where everyone obeys the rules to the letter. They should&#8217;ve known better. But no hard feelings, if they only take this to the heart: you need not only cooperate with the standards. You also need to cooperate with the world surrounding you.</p>
<p><strong>P.S.</strong> There&#8217;s also another issue with <span class="caps">GWA</span>, Google storing possibly extremely private data on their servers (as <a href="http://www.baekdal.com/">Thomas Baekdal</a> notes in the comments of the SvN <a href="http://37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fast_an_alert_for_web_app_designers.php#comments">post</a>), but that&#8217;s a topic for another post&#8230;</p>
<p><strong>P.P.S.</strong> There&#8217;s already <a href="http://david.backpackit.com/pub/37983">a trick</a> for protecting your Rails actions from <span class="caps">GWA</span>.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/05/06/upgrading-mysql-on-os-x-for-rails/">Upgrading MySQL on OS X for Rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-05-06T00:00:00+03:00" pubdate data-updated="true">May 6<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I stumbled upon a problem with my Rails app. Or with MySQL, to be precise. I needed to use date() functions in a query to compare timestamps. I know, I could&#8217;ve done it some other way but I like to keep things simple. The only problem was that my laptop was running MySQL 4.0 which (imagine that!) didn&#8217;t support date().</p>
<p>I hesitated a bit if I wanted to go through the update process just for this but because I from now treat problems, not symptoms, I decided to dive straight into it.</p>
<p>I installed the latest MySQL with DarwinPorts and moved my old databases to the new folder (this wasn&#8217;t what I initially tried to do but it was how I got things working in the end. Besides, fighting with MySQL isn&#8217;t, despite the headline, the meat of this story). Then I changed the StartupItem in /Library to point to the new mysql.server script and the server was up.</p>
<p>The problems started (oh well, continued) when I tried to use my Rails app. I got the same errors as when I tried to use the old mysql client with the new server. I finally figured out that the reason for this was that the MySQL/Ruby bindings were compiled for the old server. I banged my head against a wall for a while before I found out from Jason&#8217;s <a href="http://manuals.textdrive.com/read/chapter/3#page7">OS X tutorials</a> that gem install needs two extra dashes before giving the configure options to it. Finally I got it all working so here&#8217;s the command you need to get MySQL/Ruby bindings for a DarwinPorts-installed MySQL server:<br />
<pre><code>
sudo gem install mysql -- \\
--with-mysql-include=/opt/local/include/mysql/ \\
--with-mysql-lib=/opt/local/lib/mysql/
</code></pre></p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/17/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/15/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Jarkko Laine -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '50b05efb613f5d7127000040');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>

</body>
</html>
